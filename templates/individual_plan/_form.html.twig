{{ form_start(form) }}
    {{ form_widget(form) }}

        {# store the prototype on the data-prototype attribute #}
        <ul id="email-fields-list"
            data-prototype="{{ form_widget(form.works.vars.prototype)|e }}"
            data-widget-tags="{{ '<li></li>'|e }}"
            data-widget-counter="{{ form.works|length }}">
            {% for emailField in form.works %}
                <li>
                    {{ form_errors(emailField) }}
                    {{ form_widget(emailField) }}
                </li>
            {% endfor %}
        </ul>

        <button type="button"
                class="add-another-collection-widget"
                data-list-selector="#email-fields-list">Add another email</button>

    <button class="btn">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}
